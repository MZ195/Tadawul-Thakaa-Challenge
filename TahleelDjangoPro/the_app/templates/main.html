{% extends 'base.html' %}
{% block content %}
{% load customizedTags %}

  
<div class="card bg-dark text-light ">
  <div class="card-header">
    Filters
  </div>
  <div class="card-body">
<div class="row ">
    <div class="col-md-3 col-sm-12">
        <div class="dropdown text-light  ">
          Sector:
          {% if request.session.filterObj.Sector == 'All' %}
          <button class="btn btn-sm btn-dark dropdown-toggle text-info " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            {{request.session.filterObj.Sector|ReplaceUnderScore}}
          </button>
        {% else %}
        <button class="btn btn-sm btn-dark dropdown-toggle text-info btn-outline-info" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          {{request.session.filterObj.Sector|ReplaceUnderScore}}
        </button>
        {% endif %}
            <ul class="dropdown-menu bg-dark text-info" >
                <li><a href="/filter/Sector/catagory/All" class="dropdown-item  text-info" >All</a></li>
                <li><a href="/filter/Sector/catagory/Communication_Services" class="dropdown-item text-info">Communication Services</a></li>
                <li><a href="/filter/Sector/catagory/Consumer_Discretionary"class="dropdown-item text-info" >Consumer Discretionary</a></li>
                <li><a href="/filter/Sector/catagory/Consumer_Staples" class="dropdown-item text-info">Consumer Staples</a></li>
                <li><a href="/filter/Sector/catagory/Energy" class="dropdown-item text-info">Energy</a></li>
                <li><a href="/filter/Sector/catagory/Financials" class="dropdown-item text-info">Financials</a></li>
                <li><a href="/filter/Sector/catagory/Health_Care" class="dropdown-item text-info">Health Care</a></li>
                <li><a href="/filter/Sector/catagory/Industrials" class="dropdown-item text-info">Industrials</a></li>
                <li><a href="/filter/Sector/catagory/Information_Technology" class="dropdown-item text-info">Information Technology</a></li>
                <li><a href="/filter/Sector/catagory/Materials" class="dropdown-item text-info">Materials</a></li>
                <li><a href="/filter/Sector/catagory/Real_Estate" class="dropdown-item text-info">Real Estate</a></li>
                <li><a href="/filter/Sector/catagory/Utilities" class="dropdown-item text-info">Utilities</a></li>
            </ul>
          </div>
    </div>
    <div class="col-md-3 col-sm-12">
      <div class="dropdown text-light ">
        Market Cap:
        {% if request.session.filterObj.MarketCap == 'Any' %}
          <button class="btn btn-sm btn-dark dropdown-toggle text-info " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            {{request.session.filterObj.MarketCap}}
          </button>
        {% else %}
        <button class="btn btn-sm btn-dark dropdown-toggle text-info btn-outline-info" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          {{request.session.filterObj.MarketCap}}
        </button>
        {% endif %}
          <ul class="dropdown-menu bg-dark text-info" aria-labelledby="dropdownMenuButton1">
              <li><a href="/filter/MarketCap/catagory/Any" class="dropdown-item  text-info" >Any</a></li>
              <li><a href="/filter/MarketCap/catagory/Mega" class="dropdown-item  text-info" >Mega ($200bln and more)</a></li>
              <li><a href="/filter/MarketCap/catagory/Large" class="dropdown-item  text-info" >Large ($10bln to $200bln)</a></li>
              <li><a href="/filter/MarketCap/catagory/Mid" class="dropdown-item  text-info" >Mid ($2bln to $10bln)</a></li>
              <li><a href="/filter/MarketCap/catagory/Small" class="dropdown-item  text-info" >Small ($300mln to $2bln)</a></li>
              <li><a href="/filter/MarketCap/catagory/Micro" class="dropdown-item  text-info" >Micro ($50mln to $300mln))</a></li>
              <li><a href="/filter/MarketCap/catagory/Nano" class="dropdown-item  text-info" >Nano (under $50mln)</a></li>
          </ul>
        </div>

  </div>
  <div class="col-md-3 col-sm-12">
    <div class="dropdown text-light ">
      P/B:
      {% if request.session.filterObj.Pb == 'Any' %}
          <button class="btn btn-sm btn-dark dropdown-toggle text-info " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            {{request.session.filterObj.Pb}}
          </button>
        {% else %}
        <button class="btn btn-sm btn-dark dropdown-toggle text-info btn-outline-info" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          {{request.session.filterObj.Pb}}
        </button>
        {% endif %}
      <ul class="dropdown-menu bg-dark text-infot" aria-labelledby="dropdownMenuButton1">
          <li><a href="/filter/Pb/catagory/Any" class="dropdown-item  text-info" >Any</a></li>
          <li><a href="/filter/Pb/catagory/High" class="dropdown-item  text-info" >High (above 5)</a></li>
          <li><a href="/filter/Pb/catagory/Acceptable" class="dropdown-item  text-info" >Acceptable (1-5)</a></li>
          <li><a href="/filter/Pb/catagory/Low" class="dropdown-item  text-info" >Low (under 1)</a></li>
        </ul>
      </div>

</div>
<div class="col-md-3 col-sm-12">
  <div class="dropdown text-light ">
    P/E:
    {% if request.session.filterObj.Pe == 'Any' %}
          <button class="btn btn-sm btn-dark dropdown-toggle text-info " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            {{request.session.filterObj.Pe}}
          </button>
        {% else %}
        <button class="btn btn-sm btn-dark dropdown-toggle text-info btn-outline-info" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          {{request.session.filterObj.Pe}}
        </button>
        {% endif %}
    <ul class="dropdown-menu bg-dark text-light" aria-labelledby="dropdownMenuButton1">
        <li><a href="/filter/Pe/catagory/Any" class="dropdown-item  text-info" >Any</a></li>
        <li><a href="/filter/Pe/catagory/High" class="dropdown-item  text-info" >High (above 50)</a></li>
        <li><a href="/filter/Pe/catagory/Acceptable" class="dropdown-item  text-info" >Acceptable (15-50)</a></li>
        <li><a href="/filter/Pe/catagory/Low" class="dropdown-item  text-info" >Low (under 15)</a></li>
      </ul>
    </div>
</div>

</div>
<div class="row ">
  <div class="col-md-3 col-sm-12">
      <div class="dropdown text-light">
        Current Ratio:
        {% if request.session.filterObj.CurrentRatio == 'Any' %}
          <button class="btn btn-sm btn-dark dropdown-toggle text-info " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            {{request.session.filterObj.CurrentRatio}}
          </button>
        {% else %}
        <button class="btn btn-sm btn-dark dropdown-toggle text-info btn-outline-info" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          {{request.session.filterObj.CurrentRatio}}
        </button>
        {% endif %}
        <ul class="dropdown-menu bg-dark text-light" aria-labelledby="dropdownMenuButton1">
            <li><a href="/filter/CurrentRatio/catagory/Any" class="dropdown-item  text-info" >Any</a></li>
            <li><a href="/filter/CurrentRatio/catagory/High" class="dropdown-item  text-info" >High (above 3)</a></li>
            <li><a href="/filter/CurrentRatio/catagory/Acceptable" class="dropdown-item  text-info" >Acceptable (1-3)</a></li>
            <li><a href="/filter/CurrentRatio/catagory/Low" class="dropdown-item  text-info" >Low (under 1)</a></li>
          </ul>
        </div>
  </div>
  <div class="col-md-3 col-sm-12">
    <div class="dropdown text-light">
      Price:
      {% if request.session.filterObj.PRICE == 'Any' %}
          <button class="btn btn-sm btn-dark dropdown-toggle text-info " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            {{request.session.filterObj.PRICE}}
          </button>
        {% else %}
        <button class="btn btn-sm btn-dark dropdown-toggle text-info btn-outline-info" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          {{request.session.filterObj.PRICE}}
        </button>
        {% endif %}
      <ul class="dropdown-menu bg-dark text-light" aria-labelledby="dropdownMenuButton1">
          <li><a href="/filter/PRICE/catagory/Any" class="dropdown-item  text-info" >Any</a></li>
          <li><a href="/filter/PRICE/catagory/High" class="dropdown-item  text-info" >High (above 100)</a></li>
          <li><a href="/filter/PRICE/catagory/Acceptable" class="dropdown-item  text-info" >Acceptable (50-100)</a></li>
          <li><a href="/filter/PRICE/catagory/Low" class="dropdown-item  text-info" >Low (under 50)</a></li>
        </ul>
      </div>

</div>
<div class="col-md-3 col-sm-12">
  <div class="dropdown text-light">
    Debt Ratio:
    {% if request.session.filterObj.DebtRatio == 'Any' %}
          <button class="btn btn-sm btn-dark dropdown-toggle text-info " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            {{request.session.filterObj.DebtRatio}}
          </button>
        {% else %}
        <button class="btn btn-sm btn-dark dropdown-toggle text-info btn-outline-info" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          {{request.session.filterObj.DebtRatio}}
        </button>
        {% endif %}
    <ul class="dropdown-menu bg-dark text-light" aria-labelledby="dropdownMenuButton1">
        <li><a href="/filter/DebtRatio/catagory/Any" class="dropdown-item  text-info" >Any</a></li>
        <li><a href="/filter/DebtRatio/catagory/High" class="dropdown-item  text-info" >High (above 50)</a></li>
        <li><a href="/filter/DebtRatio/catagory/Acceptable" class="dropdown-item  text-info" >Acceptable (10-50)</a></li>
        <li><a href="/filter/DebtRatio/catagory/Low" class="dropdown-item  text-info" >Low (under 10)</a></li>
      </ul>
    </div>

</div>
<div class="col-md-3 col-sm-12">
<div class="dropdown text-light">
  EPS:
  {% if request.session.filterObj.Eps == 'Any' %}
          <button class="btn btn-sm btn-dark dropdown-toggle text-info " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            {{request.session.filterObj.Eps}}
          </button>
        {% else %}
        <button class="btn btn-sm btn-dark dropdown-toggle text-info btn-outline-info" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          {{request.session.filterObj.Eps}}
        </button>
        {% endif %}
  <ul class="dropdown-menu bg-dark text-light" aria-labelledby="dropdownMenuButton1">
      <li><a href="/filter/Eps/catagory/Any" class="dropdown-item  text-info" >Any</a></li>
      <li><a href="/filter/Eps/catagory/High" class="dropdown-item  text-info" >High (above 2)</a></li>
      <li><a href="/filter/Eps/catagory/Acceptable" class="dropdown-item  text-info" >Acceptable (0-2)</a></li>
      <li><a href="/filter/Eps/catagory/Low" class="dropdown-item  text-info" >Low (under 0)</a></li>
    </ul>
  </div>
</div>
</div>
<div class="row ">
  <div class="col-md-3 col-sm-12">
    <div class="dropdown text-light">
      EBIT:
      {% if request.session.filterObj.Ebit == 'Any' %}
          <button class="btn btn-sm btn-dark dropdown-toggle text-info " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            {{request.session.filterObj.Ebit|ReplaceUnderScore}}
          </button>
        {% else %}
        <button class="btn btn-sm btn-dark dropdown-toggle text-info btn-outline-info" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          {{request.session.filterObj.Ebit|ReplaceUnderScore}}
        </button>
        {% endif %}
      <ul class="dropdown-menu bg-dark text-light" aria-labelledby="dropdownMenuButton1">
          <li><a href="/filter/Ebit/catagory/Any" class="dropdown-item  text-info" >Any</a></li>
          <li><a href="/filter/Ebit/catagory/Very_High" class="dropdown-item  text-info" >Very High ( above 5bln)</a></li>
          <li><a href="/filter/Ebit/catagory/High" class="dropdown-item  text-info" >High (10mln-5bln)</a></li>
          <li><a href="/filter/Ebit/catagory/Acceptable" class="dropdown-item  text-info" >Acceptable (1mln-10mln)</a></li>
          <li><a href="/filter/Ebit/catagory/Low" class="dropdown-item  text-info" >Low (-10mln-0)</a></li>
          <li><a href="/filter/Ebit/catagory/Very_Low" class="dropdown-item  text-info" >Very Low (under -10mln)</a></li>
        </ul>
      </div>
    </div>
    <div class="col-md-3 col-sm-12">
      <div class="dropdown text-light">
        Operating EPS:
        {% if request.session.filterObj.OperatingEps == 'Any' %}
          <button class="btn btn-sm btn-dark dropdown-toggle text-info " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            {{request.session.filterObj.OperatingEps}}
          </button>
        {% else %}
        <button class="btn btn-sm btn-dark dropdown-toggle text-info btn-outline-info" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          {{request.session.filterObj.OperatingEps}}
        </button>
        {% endif %}
        <ul class="dropdown-menu bg-dark text-light" aria-labelledby="dropdownMenuButton1">
            <li><a href="/filter/OperatingEps/catagory/Any" class="dropdown-item  text-info" >Any</a></li>
            <li><a href="/filter/OperatingEps/catagory/High" class="dropdown-item  text-info" >High (above 2)</a></li>
            <li><a href="/filter/OperatingEps/catagory/Acceptable" class="dropdown-item  text-info" >Acceptable (0-2)</a></li>
            <li><a href="/filter/OperatingEps/catagory/Low" class="dropdown-item  text-info" >Low (under 0)</a></li>
          </ul>
        </div>
      </div>
      <div class="col-md-3 col-sm-12">
        <div class="dropdown text-light">
          Dividend Yield:
          {% if request.session.filterObj.DividendYield == 'Any' %}
          <button class="btn btn-sm btn-dark dropdown-toggle text-info " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            {{request.session.filterObj.DividendYield|ReplaceUnderScore}}
          </button>
        {% else %}
        <button class="btn btn-sm  btn-dark dropdown-toggle text-info btn-outline-info" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          {{request.session.filterObj.DividendYield|ReplaceUnderScore}}
        </button>
        {% endif %}
          <ul class="dropdown-menu bg-dark text-light" aria-labelledby="dropdownMenuButton1">
              <li><a href="/filter/DividendYield/catagory/Any" class="dropdown-item  text-info" >Any</a></li>
              <li><a href="/filter/DividendYield/catagory/None" class="dropdown-item  text-info" >None (0%)</a></li>
              <li><a href="/filter/DividendYield/catagory/Positive" class="dropdown-item  text-info" >Positive (above 0%)</a></li>
              <li><a href="/filter/DividendYield/catagory/High" class="dropdown-item  text-info" >High (above 5%)</a></li>
              <li><a href="/filter/DividendYield/catagory/Very_High" class="dropdown-item  text-info" >Very High (above 10%)</a></li>
            </ul>
          </div>
      
      </div>
      
      <div class="col-md-3 col-sm-12">
        <div class="dropdown text-light">
          Quick Ratio:
          {% if request.session.filterObj.QuickRatio == 'Any' %}
          <button class="btn btn-sm btn-dark dropdown-toggle text-info " type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
            {{request.session.filterObj.QuickRatio}}
          </button>
        {% else %}
        <button class="btn btn-sm btn-dark dropdown-toggle text-info btn-outline-info" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          {{request.session.filterObj.QuickRatio}}
        </button>
        {% endif %}
          <ul class="dropdown-menu bg-dark text-light" aria-labelledby="dropdownMenuButton1">
            <li><a href="/filter/QuickRatio/catagory/Any" class="dropdown-item  text-info" >Any</a></li>
            <li><a href="/filter/QuickRatio/catagory/High" class="dropdown-item  text-info" >High (above 3)</a></li>
            <li><a href="/filter/QuickRatio/catagory/Acceptable" class="dropdown-item  text-info" >Acceptable (0.5-3)</a></li>
            <li><a href="/filter/QuickRatio/catagory/Low" class="dropdown-item  text-info" >Low (under 0.5)</a></li>
            </ul>
          </div>
      
      </div>
</div>
</div>
</div>
<div class="table-responsive">
    <table class="table table-dark table-hover ">
        <thead>
          <tr class="text-info">
            <th scope="col">#</th>
            <th scope="col" class="sticky-col first-col">Ticker</th>
            <th scope="col">Company Name</th>
            <th scope="col">Sector</th>
            <th scope="col">Price</th>
            <th scope="col">Country </th>
            <th scope="col">Authorized Capital </th>
            <th scope="col">Issued Shares </th>
            <th scope="col">Paid Capital</th>
          </tr>
        </thead>
        <tbody>
        {% for company in cuurentStocksList  %}
        <tr>
            <td></td>
            <td class="sticky-col first-col">{{company.TICKER}}</td>
            <td>{{company.NAME}}</td>
            <td>
              {{ company.SECTOR|ReplaceUnderScore }}
              
            </td>
            <td>{{company.PRICE}}</td>
            <td>KSA</td>
            <td>{{company.AUTHORIZED_CAPITAL}}</td>
            <td>{{company.ISSUED_SHARES}}</td>
            <td>{{company.PAID_CAPITAL}}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
      {% if cuurentStocksList %}
        {% else %}
        <div class="d-flex justify-content-center">
        <p class="text-light ">No Results</p>
        </div>
        {% endif %}
    </div>

  
      


{% endblock %}
    